[supervisord]
nodaemon=true
logfile=/var/log/supervisord.log
pidfile=/var/run/supervisord.pid
user=root

[program:vncserver]
command=/bin/bash -c 'rm -rf /tmp/.X1-lock /tmp/.X11-unix/X1 2>/dev/null; vncserver :1 -geometry 1920x1080 -depth 24 -localhost no -SecurityTypes None --I-KNOW-THIS-IS-INSECURE'
user=developer
autorestart=true
priority=10
startsecs=5
environment=HOME="/home/developer",USER="developer"
stdout_logfile=/var/log/vncserver.log
stderr_logfile=/var/log/vncserver.err

[program:novnc]
command=/bin/bash -c 'sleep 5 && websockify --web=/usr/share/novnc/ 0.0.0.0:6080 localhost:5901'
user=developer
autorestart=true
priority=30
startsecs=3
stdout_logfile=/var/log/novnc.log
stderr_logfile=/var/log/novnc.err

[program:clawdbot-gateway]
command=/bin/bash -c 'sleep 8 && clawdbot gateway --port 18789 --allow-unconfigured'
user=developer
autorestart=true
priority=40
startsecs=5
environment=HOME="/home/developer",USER="developer",CLAWDBOT_HOME="/clawdbot_home",WORKSPACE="/workspace",DISPLAY=":1"
stdout_logfile=/var/log/clawdbot.log
stderr_logfile=/var/log/clawdbot.err
